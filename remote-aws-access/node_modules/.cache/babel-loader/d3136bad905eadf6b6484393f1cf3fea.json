{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar globals_1 = require(\"./globals\");\n\nvar constants_1 = require(\"./constants\");\n\nexports.createOrJoinSocket = function (webSocketRef, url, setReadyState, options) {\n  if (options.share) {\n    if (globals_1.sharedWebSockets[url] === undefined) {\n      setReadyState(function (prev) {\n        var _a;\n\n        return Object.assign({}, prev, (_a = {}, _a[url] = constants_1.READY_STATE_CONNECTING, _a));\n      });\n      globals_1.sharedWebSockets[url] = new WebSocket(url);\n    }\n\n    webSocketRef.current = globals_1.sharedWebSockets[url];\n  } else {\n    setReadyState(function (prev) {\n      var _a;\n\n      return Object.assign({}, prev, (_a = {}, _a[url] = constants_1.READY_STATE_CONNECTING, _a));\n    });\n    webSocketRef.current = new WebSocket(url);\n  }\n};","map":null,"metadata":{},"sourceType":"script"}